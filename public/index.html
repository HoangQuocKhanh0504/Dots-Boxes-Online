<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Dots & Boxes Online</title>
  <script src="/socket.io/socket.io.js"></script>
  <script src="client.js" defer></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="GD.png">
  <script>
(function(){
  const text = "TrÃ² chÆ¡i KhanhPC";
  const cursorChar = "â–Œ";      // kÃ½ tá»± con trá»: Ä‘á»•i thÃ nh "|" hoáº·c "_" náº¿u thÃ­ch
  const typingInterval = 140; // ms má»—i chá»¯
  const cursorInterval = 500; // ms nháº¥p nhÃ¡y

  let i = 0;
  let cursorVisible = true;

  function renderTitle() {
    const shown = text.substring(0, Math.min(i, text.length));
    // náº¿u cursorVisible false thÃ¬ chÃ¨n má»™t khoáº£ng tráº¯ng Ä‘á»ƒ trÃ¡nh flicker quÃ¡ gáº¯t
    document.title = shown + (cursorVisible ? cursorChar : " ");
  }

  // Hiá»‡u á»©ng gÃµ (cháº¡y 1 láº§n). Äá»ƒ láº·p láº¡i, uncomment pháº§n chá»‰ dáº«n bÃªn dÆ°á»›i.
  const typer = setInterval(() => {
    if (i <= text.length) {
      renderTitle();
      i++;
    } else {
      clearInterval(typer);
      // --- Muá»‘n láº·p: bá» comment 2 dÃ²ng sau ---
      // i = 0;
      // (khi uncomment, script sáº½ gÃµ láº¡i tá»« Ä‘áº§u)
      // --------------------------------------
    }
  }, typingInterval);

  // Nháº¥p nhÃ¡y con trá» liÃªn tá»¥c
  setInterval(() => {
    cursorVisible = !cursorVisible;
    renderTitle();
  }, cursorInterval);
})();
</script>
</head>
<div id="notification-bar" style="
    width: 100%;
    background-color: #ffcc00;
    color: #000;
    font-weight: bold;
    white-space: nowrap;
    overflow: hidden;
    height: 40px;
    line-height: 40px;
    border-bottom: 2px solid #cc9900;
    box-sizing: border-box;
    position: fixed; /* thay relative -> fixed */
    top: 0;
    left: 0;
    z-index: 9999; /* Ä‘áº£m báº£o náº±m trÃªn cÃ¹ng */
">
  <div id="scrolling-wrapper" style="
      display: inline-block;
      white-space: nowrap;
      will-change: transform;
      animation: scroll-infinite 30s linear infinite;
  ">
    <span style="padding-right: 50px;">
      Hiá»‡n táº¡i web chá»‰ má»›i Ä‘ang phÃ¡t triá»ƒn nÃªn sáº½ cÃ³ 1 sá»‘ lá»—i khÃ´ng mong muá»‘n. ÄÃ´i khi css cá»§a web sáº½ bá»‹ máº¥t. Náº¿u cÃ¡c báº¡n muá»‘n lÃ m web thÃ¬ cÃ³ thá»ƒ liÃªn há»‡ mÃ¬nh qua website: 
      <a href="https://aikhanh.onrender.com" target="_blank" style="color: #000; text-decoration: underline;">https://aikhanh.onrender.com</a>
      Â© KHANHPC 2025 | má»i quyá»n Ä‘Æ°á»£c báº£o lÆ°u
    </span>
        <span style="padding-right: 50px;">
      Hiá»‡n táº¡i web chá»‰ má»›i Ä‘ang phÃ¡t triá»ƒn nÃªn sáº½ cÃ³ 1 sá»‘ lá»—i khÃ´ng mong muá»‘n. ÄÃ´i khi css cá»§a web sáº½ bá»‹ máº¥t. Náº¿u cÃ¡c báº¡n muá»‘n lÃ m web thÃ¬ cÃ³ thá»ƒ liÃªn há»‡ mÃ¬nh qua website: 
      <a href="https://aikhanh.onrender.com" target="_blank" style="color: #000; text-decoration: underline;">https://aikhanh.onrender.com</a>
      Â© KHANHPC 2025 | má»i quyá»n Ä‘Æ°á»£c báº£o lÆ°u
    </span>
        <span style="padding-right: 50px;">
      Hiá»‡n táº¡i web chá»‰ má»›i Ä‘ang phÃ¡t triá»ƒn nÃªn sáº½ cÃ³ 1 sá»‘ lá»—i khÃ´ng mong muá»‘n. ÄÃ´i khi css cá»§a web sáº½ bá»‹ máº¥t. Náº¿u cÃ¡c báº¡n muá»‘n lÃ m web thÃ¬ cÃ³ thá»ƒ liÃªn há»‡ mÃ¬nh qua website: 
      <a href="https://aikhanh.onrender.com" target="_blank" style="color: #000; text-decoration: underline;">https://aikhanh.onrender.com</a>
      Â© KHANHPC 2025 | má»i quyá»n Ä‘Æ°á»£c báº£o lÆ°u
    </span>
        <span style="padding-right: 50px;">
      Hiá»‡n táº¡i web chá»‰ má»›i Ä‘ang phÃ¡t triá»ƒn nÃªn sáº½ cÃ³ 1 sá»‘ lá»—i khÃ´ng mong muá»‘n. ÄÃ´i khi css cá»§a web sáº½ bá»‹ máº¥t. Náº¿u cÃ¡c báº¡n muá»‘n lÃ m web thÃ¬ cÃ³ thá»ƒ liÃªn há»‡ mÃ¬nh qua website: 
      <a href="https://aikhanh.onrender.com" target="_blank" style="color: #000; text-decoration: underline;">https://aikhanh.onrender.com</a>
      Â© KHANHPC 2025 | má»i quyá»n Ä‘Æ°á»£c báº£o lÆ°u
    </span>
    <!-- Láº·p láº¡i thÃªm cÃ¡c span náº¿u cáº§n -->
  </div>
</div>

<style>
@keyframes scroll-infinite {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-25%);
  }
}
body {
  padding-top: 40px; /* Ä‘á»ƒ ná»™i dung khÃ´ng bá»‹ che */
}

</style>

<body class="bg-gradient-to-br from-indigo-100 via-purple-100 to-pink-100 flex h-screen">

  <!-- Khu vá»±c game -->
  <div class="flex-1 flex items-center justify-center p-4">
    <canvas id="gameCanvas" width="800" height="800" 
      class="bg-white shadow-2xl rounded-2xl border border-gray-200 transition-transform duration-300 hover:scale-[1.01]"></canvas>
  </div>

  <!-- Sidebar -->
  <div class="w-80 bg-white border-l border-gray-200 p-6 flex flex-col space-y-6 shadow-2xl rounded-l-3xl">
    <!-- Form phÃ²ng chÆ¡i -->
    <div>
      <h2 class="text-2xl font-extrabold mb-4 text-indigo-600">ğŸ® PhÃ²ng chÆ¡i</h2>

      <label class="block mb-1 font-medium text-gray-700">MÃ£ phÃ²ng</label>
      <input id="roomInput" class="w-full border rounded-lg p-2 mb-3 focus:ring-2 focus:ring-indigo-400 outline-none" placeholder="Nháº­p mÃ£ phÃ²ng" />

      <label class="block mb-1 font-medium text-gray-700">TÃªn báº¡n</label>
      <input id="nameInput" class="w-full border rounded-lg p-2 mb-3 focus:ring-2 focus:ring-indigo-400 outline-none" placeholder="Nháº­p tÃªn" />

      <label class="block mb-1 font-medium text-gray-700">MÃ u má»±c</label>
      <input type="color" id="colorInput" class="w-full border rounded-lg p-2 mb-3 cursor-pointer" value="#ff0000" />

      <label class="block mb-1 font-medium text-gray-700">KÃ½ hiá»‡u</label>
      <input id="symbolInput" class="w-full border rounded-lg p-2 mb-3 focus:ring-2 focus:ring-indigo-400 outline-none" placeholder="VÃ­ dá»¥: X" maxlength="1" />

      <!-- KÃ­ch thÆ°á»›c -->
      <div class="flex items-center space-x-2 mb-4">
        <input id="widthInput" type="number" class="border rounded-lg p-2 w-16 focus:ring-2 focus:ring-indigo-400 outline-none" value="5" min="2">
        <span class="text-gray-600">x</span>
        <input id="heightInput" type="number" class="border rounded-lg p-2 w-16 focus:ring-2 focus:ring-indigo-400 outline-none" value="5" min="2">
      </div>

      <!-- NÃºt -->
      <div class="flex space-x-3">
        <button onclick="createRoom()" class="flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-lg p-2 shadow hover:from-blue-600 hover:to-blue-700 transition">Táº¡o phÃ²ng</button>
        <button onclick="joinRoom()" class="flex-1 bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold rounded-lg p-2 shadow hover:from-green-600 hover:to-green-700 transition">Tham gia</button>
      </div>

      <button onclick="startGame()" id="startBtn" class="mt-3 hidden w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold rounded-lg p-2 shadow hover:from-purple-600 hover:to-purple-700 transition">Báº¯t Ä‘áº§u chÆ¡i</button>
    </div>

    <!-- Tráº¡ng thÃ¡i -->
    <div class="bg-gray-50 p-3 rounded-lg border text-center">
      <p id="status" class="text-gray-600">ChÆ°a tham gia phÃ²ng</p>
      <p id="turnInfo" class="text-lg font-bold text-indigo-600"></p>
      <p id="timer" class="text-red-500 font-bold"></p>
    </div>

    <!-- Báº£ng xáº¿p háº¡ng -->
    <div>
      <h2 class="text-2xl font-extrabold mb-3 text-pink-600">ğŸ† Báº£ng xáº¿p háº¡ng</h2>
      <table class="w-full border rounded-lg overflow-hidden shadow text-center" id="scoreboard">
        <thead>
          <tr class="bg-indigo-100 text-gray-700">
            <th class="p-2">TÃªn</th>
            <th class="p-2">KÃ½ hiá»‡u</th>
            <th class="p-2">Äiá»ƒm</th>
          </tr>
        </thead>
        <tbody class="divide-y"></tbody>
      </table>
    </div>
  </div>

</body>
</html>
